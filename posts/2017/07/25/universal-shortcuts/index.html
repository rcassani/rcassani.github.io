<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <title>CastorisCausa</title>
    <meta charset="utf-8" />

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-86432394-1', 'auto');
    ga('send', 'pageview');
  </script>
<!-- End Google Analytics -->

    <!-- mobile specific metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS -->
      <link rel="stylesheet" href="http://www.castoriscausa.com/theme/tipuesearch/tipuesearch.css">

    <link rel="stylesheet" href="http://www.castoriscausa.com/theme/css/default.css">
    <link rel="stylesheet" href="http://www.castoriscausa.com/theme/css/layout.css">
    <link rel="stylesheet" href="http://www.castoriscausa.com/theme/css/media-queries.css">

    <link rel="stylesheet" href="http://www.castoriscausa.com/theme/css/pygments/native.css">

      <link rel="stylesheet" href="http://www.castoriscausa.com/castoris.css">

    <!-- Script -->
    <script src="http://www.castoriscausa.com/theme/js/modernizr.js"></script>
    <script src="http://www.castoriscausa.com/theme/js/jquery-3.4.1.min.js"></script>

    <!-- Favicons -->
    <link rel="shortcut icon" href="http://www.castoriscausa.com/theme/images/favicon.png">

  </head>

  <body>
    <header id="top">
<!-- Header
================================================== -->
  <div class="row">
    <div class="header-content twelve columns">
      <h1 id="logo-text"><a href="http://www.castoriscausa.com" title="">CastorisCausa</a></h1>
      <p id="intro"></p>
    </div>
  </div>

  <nav id="nav-wrap">
    <a class="mobile-btn" href="#nav-wrap" title="Show navigation">Show Menu</a>
    <a class="mobile-btn" href="#" title="Hide navigation">Hide Menu</a>
    <div class="row">
      <ul id="nav" class="nav">

        <!-- Links that are not pages -->
            <li><a href="http://www.castoriscausa.com">Home</a></li>

        <!-- Links for Categories, create Dropdown -->
          <li class="has-children"><a href="#">Categories</a>
            <ul>
                <li><a href="http://www.castoriscausa.com/category/blog/">Blog</a></li>
                <li><a href="http://www.castoriscausa.com/category/programming/">Programming</a></li>
                <li><a href="http://www.castoriscausa.com/category/projects/">Projects</a></li>
            </ul>
          </li>

        <!-- Links for Pages, ordered by PAGES_SORT_ATTRIBUTE (def. title) -->
            <li><a href="http://www.castoriscausa.com/pages/software">Software</a></li>
            <li><a href="http://www.castoriscausa.com/pages/about-me">About</a></li>

      </ul> <!-- end #nav -->
    </div>
  </nav> <!-- end #nav-wrap -->    </header>

    <div id="content-wrap">
<!-- Content - Article -->
  <div class="row">
    <div id="main" class="eight columns">
      <article class="entry">
<header class="entry-header">

  <h2 class="entry-title">
    <a href="http://www.castoriscausa.com/posts/2017/07/25/universal-shortcuts/">Universal Shortcut</a>
  </h2>

  <div class="entry-meta">
    <ul>
      <!-- date -->
      <li>
        <i class="fa fa-clock-o"></i>
        2017/07/25
      </li>
      <!-- category and tags -->
        <p class="tags">
            <i class="fa fa-folder-open"></i>
            <span>Category: </span>
            <a href="http://www.castoriscausa.com/category/programming/">Programming</a><br>
            <i class="fa fa-tags"></i>
            <span>Tagged in: </span>
            <a href="http://www.castoriscausa.com/tags/bash/">Bash</a>,             <a href="http://www.castoriscausa.com/tags/batch/">Batch</a>,             <a href="http://www.castoriscausa.com/tags/linux/">Linux</a>,             <a href="http://www.castoriscausa.com/tags/windows/">Windows</a>        </p>
    </ul>
  </div>
</header>
        <div class="entry-content-media">
          <div class="post-thumb">
          </div>
        </div>

        <div class="entry-content">
          <p>This project started from the "need" of having a compatible way to point to files indifferently if on Windows or Linux. While both operative systems can handle symbolic links, when the target file is an executable, certain scripts and programs present <a href="https://askubuntu.com/questions/541317/link-to-exe-doesnt-launch-wine">problems when executed through a symbolic link</a>, as the working directory is expected to be the directory containing the executable  and not the directory with the symbolic link.</p>
<p>For that reason, a different approach was taken. To create an hybrid script with <strong>Bash</strong> and <strong>Batch</strong> code to point to the desired files or program. This kind of script is possible by using the commenting format of <a href="https://stackoverflow.com/questions/17510688/single-script-to-run-in-both-windows-batch-and-linux-bash">Batch files to ignore the Bash commands</a>. In this sense such files can are <strong>universal shortcuts</strong>. As the paths utilized in this universal shortcut file, are relative, it works perfectly with portable media, if and only if, the filesystem supports file permissions. Note: FAT32 does not support them.</p>
<p>The universal shortcuts consist of an executable script file with Bash and Batch code. When executed in Windows the Bash part is ignored and when executed in Linux the Batch part is ignored. Thus, the same script can be executed in both systems and performs the same action.</p>
<p>The scripts in bash and batch are equivalent and they do:  </p>
<ol>
<li>
<p>Change the current directory to the directory where the target file is</p>
</li>
<li>
<p>Open the target file in a similar way as when the user double clicks it, this operation <a href="https://github.com/alexeevdv/dename/blob/master/dename.sh">depends on the Desktop Environment utilized</a></p>
</li>
<li>
<p>Exit</p>
</li>
</ol>
<p>The universal shortcut is created by a Python 3 script that can be found in this repository:</p>
<p><a href="https://github.com/rcassani/universal-shortcuts">https://github.com/rcassani/universal-shortcuts</a></p>
<h3>Usage</h3>
<div class="highlight"><pre><span></span>$ python3 mk_unishortcut.py &lt;targetpath&gt;
</pre></div>


<p>the <code>&lt;targetpath&gt;</code> can be absolute or relative, and can be a file or directory</p>
<p>When the Python script is executed in Linux it will automatically change the file permissions of the shortcut file to be executable. If the Python script is run in Windows, it is needed to change the file permissions to executable in Linux.  </p>
<p>Despite the fact these universal shortcuts may not be extremely useful, this project was an interesting experience in writing hybrid Bash-Batch scripts.</p>
<h2>References:</h2>
<ol>
<li>
<p>Symbolic links fail to run executable files when they need to run in their folder<br>
<a href="https://askubuntu.com/questions/541317/link-to-exe-doesnt-launch-wine">https://askubuntu.com/questions/541317/link-to-exe-doesnt-launch-wine</a></p>
</li>
<li>
<p>Hybrid Windows-bash and Linux-bash scripting<br>
<a href="https://stackoverflow.com/questions/17510688/single-script-to-run-in-both-windows-batch-and-linux-bash">https://stackoverflow.com/questions/17510688/single-script-to-run-in-both-windows-batch-and-linux-bash</a></p>
</li>
<li>
<p>Identify Linux Desktop Environment<br>
<a href="https://github.com/alexeevdv/dename/blob/master/dename.sh">https://github.com/alexeevdv/dename/blob/master/dename.sh</a>   </p>
</li>
<li>
<p><code>start</code> command in Windows<br>
<a href="https://renewablepcs.wordpress.com/about-linux/kde-gnome-or-xfce/">https://technet.microsoft.com/en-us/library/cc770297(v=ws.11).aspx</a></p>
</li>
<li>
<p>Link with different Desktop Environments<br>
<a href="https://renewablepcs.wordpress.com/about-linux/kde-gnome-or-xfce/">https://renewablepcs.wordpress.com/about-linux/kde-gnome-or-xfce/</a></p>
</li>
</ol>
        </div>
      </article>

<!-- Comments -->
<!-- Disqus -->
    <div id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'castoriscausa'; // required: replace example with your forum shortname

            var disqus_config = function () {
                this.language = "en";

                        this.page.url = 'http://www.castoriscausa.com/posts/2017/07/25/universal-shortcuts/';
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
<!-- End Disqus Code -->
    </div> <!-- main End -->
<!-- Sidebar -->
<div id="sidebar" class="four columns">
<div class="widget widget_search">
  <form action="http://www.castoriscausa.com/search.html" onsubmit="return validateForm(this.elements['q'].value);">
    <input type="text" name="q" id="tipue_search_input" value="Search here..." onblur="if(this.value == '') { this.value = 'Search here...'; }" onfocus="if (this.value == 'Search here...') { this.value = ''; }" class="text-search">
    <input type="submit" value="" class="submit-search">
  </form>
</div>

<div class="widget widget_categories group">
  <h3>Links</h3>
  <ul>
      <li><a href="http://www.castoriscausa.com">Home</a></li>
      <li><a href="http://musaelab.ca/">MuSAE Lab</a></li>
  </ul>
</div>

<div class="widget widget_categories group">
  <h3>Categories</h3>
  <ul>
      <li><a href="http://www.castoriscausa.com/category/blog/">Blog</a></li>
      <li><a href="http://www.castoriscausa.com/category/programming/">Programming</a></li>
      <li><a href="http://www.castoriscausa.com/category/projects/">Projects</a></li>
  </ul>
</div>

<div class="widget widget_tags">
  <h3>All Tags</h3>
    <div class="tagcloud group">
        <a href="http://www.castoriscausa.com/tags/ad/">AD</a>
        <a href="http://www.castoriscausa.com/tags/bash/">Bash</a>
        <a href="http://www.castoriscausa.com/tags/batch/">Batch</a>
        <a href="http://www.castoriscausa.com/tags/book/">book</a>
        <a href="http://www.castoriscausa.com/tags/cuda/">CUDA</a>
        <a href="http://www.castoriscausa.com/tags/deeplearning/">DeepLearning</a>
        <a href="http://www.castoriscausa.com/tags/diy/">DIY</a>
        <a href="http://www.castoriscausa.com/tags/eeg/">EEG</a>
        <a href="http://www.castoriscausa.com/tags/energy/">energy</a>
        <a href="http://www.castoriscausa.com/tags/espanol/">Espa√±ol</a>
        <a href="http://www.castoriscausa.com/tags/git/">Git</a>
        <a href="http://www.castoriscausa.com/tags/gpu/">GPU</a>
        <a href="http://www.castoriscausa.com/tags/hack/">hack</a>
        <a href="http://www.castoriscausa.com/tags/linux/">Linux</a>
        <a href="http://www.castoriscausa.com/tags/nvidia/">NVIDIA</a>
        <a href="http://www.castoriscausa.com/tags/phd/">PhD</a>
        <a href="http://www.castoriscausa.com/tags/power/">power</a>
        <a href="http://www.castoriscausa.com/tags/space/">space</a>
        <a href="http://www.castoriscausa.com/tags/touchpad/">touchpad</a>
        <a href="http://www.castoriscausa.com/tags/windows/">Windows</a>
    </div>
</div>










</div> <!-- end sidebar -->  </div> <!-- end row -->
    </div>

    <footer>
<!-- Footer
================================================== -->
  <div class="row">
    <div class="twelve columns">
      <ul class="social-links">
        <li><a href="https://github.com/rcassani"><i class="fab fa-github fa-lg"></i></a></li>
        <li><a href="https://twitter.com/r_cassani"><i class="fab fa-twitter fa-lg"></i></a></li>
        <li><a href="https://www.linkedin.com/in/rcassani/"><i class="fab fa-linkedin fa-lg"></i></a></li>
        <li><a href="https://scholar.google.com/citations?hl=en&user=3A9_Ww8AAAAJ"><i class="fas fa-user-graduate fa-lg"></i></a></li>
        <li><a href="mailto:raymundo.cassani@gmail.com"><i class="fas fa-envelope fa-lg"></i></a></li>
    </ul>
  </div>


  <div class="twelve columns">&copy; 2020 Raymundo Cassani
    &middot; Powered by <a href="https://github.com/rcassani/pelican-kis" target="_blank">pelican-kis</a> and <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,

                  <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>, except where indicated otherwise.
</small></p>

           </div>


  </div> <!-- End row -->
  <div id="go-top"><a class="smoothscroll" title="Back to Top" href="#top"><i class="fa fa-chevron-up"></i></a></div>    </footer>

    <!-- Java Script -->
    <script src="http://www.castoriscausa.com/theme/js/jquery-3.4.1.min.js"></script>
    <script src="http://www.castoriscausa.com/theme/js/main.js"></script>
    <script type="text/javascript">
        var disqus_shortname = 'castoriscausa';
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] ||
             document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>

  </body>
</html>